<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="google-site-verification" content="ZuV45Knwuwl49Nvh9UsDzniZ-3qy3bGhBPofLK3SZPw" /><!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5PX967D');</script>
<!-- End Google Tag Manager -->
<!-- Google Analytics -->
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'G-7TSJ5VM6YC', 'auto');
	ga('send', 'pageview');
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7TSJ5VM6YC"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-7TSJ5VM6YC');
</script>
<!-- End Google Analytics -->
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Running Jekyll myself | Ulysses’ trip</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Running Jekyll myself" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="It is an annoying thing that I cannot add custom plugins if GitHub pages runs Jekyll for me. Thus, I need to build the site myself and let GitHub pages to present my built site. Note that GitHub pages serving personal users cannot present the site deployed in docs dir of master branch or in root of gh-pages branch, so I need to put my Jekyll source in the development branch, and push the built site to the master branch when I think it is ready to be published. I have written a script to do it for me: MESSAGE=$1 echo &quot;Committing...&quot; git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; echo &quot;Backing up...&quot; mv _site/.git git_backup echo &quot;Building...&quot; jekyll build --quiet echo &quot;Restoring...&quot; mv git_backup/.git _site cd _site echo &quot;Pushing...&quot; git add -- **/* git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; git push --set-upstream origin master where AUTHOR is your name and email in the format name &lt;email&gt;. Before that, I need to initialize the _site dir as a git repo: cd site_ git init git remote add origin $REMOTE_URL git add -f -- **/* git commit -m &quot;initial commit&quot; git push -f --set-upstream origin master where REMOTE_URL is the GitHub url of the repo of your site." />
<meta property="og:description" content="It is an annoying thing that I cannot add custom plugins if GitHub pages runs Jekyll for me. Thus, I need to build the site myself and let GitHub pages to present my built site. Note that GitHub pages serving personal users cannot present the site deployed in docs dir of master branch or in root of gh-pages branch, so I need to put my Jekyll source in the development branch, and push the built site to the master branch when I think it is ready to be published. I have written a script to do it for me: MESSAGE=$1 echo &quot;Committing...&quot; git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; echo &quot;Backing up...&quot; mv _site/.git git_backup echo &quot;Building...&quot; jekyll build --quiet echo &quot;Restoring...&quot; mv git_backup/.git _site cd _site echo &quot;Pushing...&quot; git add -- **/* git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; git push --set-upstream origin master where AUTHOR is your name and email in the format name &lt;email&gt;. Before that, I need to initialize the _site dir as a git repo: cd site_ git init git remote add origin $REMOTE_URL git add -f -- **/* git commit -m &quot;initial commit&quot; git push -f --set-upstream origin master where REMOTE_URL is the GitHub url of the repo of your site." />
<link rel="canonical" href="https://ulysseszh.github.io/programming/2020/04/14/run-jekyll-myself.html" />
<meta property="og:url" content="https://ulysseszh.github.io/programming/2020/04/14/run-jekyll-myself.html" />
<meta property="og:site_name" content="Ulysses’ trip" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-14T14:22:15+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Running Jekyll myself" />
<script type="application/ld+json">
{"description":"It is an annoying thing that I cannot add custom plugins if GitHub pages runs Jekyll for me. Thus, I need to build the site myself and let GitHub pages to present my built site. Note that GitHub pages serving personal users cannot present the site deployed in docs dir of master branch or in root of gh-pages branch, so I need to put my Jekyll source in the development branch, and push the built site to the master branch when I think it is ready to be published. I have written a script to do it for me: MESSAGE=$1 echo &quot;Committing...&quot; git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; echo &quot;Backing up...&quot; mv _site/.git git_backup echo &quot;Building...&quot; jekyll build --quiet echo &quot;Restoring...&quot; mv git_backup/.git _site cd _site echo &quot;Pushing...&quot; git add -- **/* git commit -m &quot;$MESSAGE&quot; --author &quot;$AUTHOR&quot; git push --set-upstream origin master where AUTHOR is your name and email in the format name &lt;email&gt;. Before that, I need to initialize the _site dir as a git repo: cd site_ git init git remote add origin $REMOTE_URL git add -f -- **/* git commit -m &quot;initial commit&quot; git push -f --set-upstream origin master where REMOTE_URL is the GitHub url of the repo of your site.","headline":"Running Jekyll myself","dateModified":"2020-04-14T14:22:15+08:00","datePublished":"2020-04-14T14:22:15+08:00","url":"https://ulysseszh.github.io/programming/2020/04/14/run-jekyll-myself.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ulysseszh.github.io/programming/2020/04/14/run-jekyll-myself.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
	<link rel="icon" type="image/x-icon" href="/favicon.ico?">
	<!-- Gitalk begin -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
	<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
	<!-- Gitalk end --><link type="application/atom+xml" rel="alternate" href="https://ulysseszh.github.io/feed.xml" title="Ulysses' trip" /><script>
MathJax = {
	tex: {
		inlineMath: [['$', '$'], ['\\(', '\\)']],
		processEscapes: true,
		tags: 'ams',
		packages: {'[+]': ['ams', 'autoload']}
	},
	loader: {load: ['[tex]/ams', '[tex]/autoload']}
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>

<!-- Added begin --><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5PX967D"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Added end --><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Ulysses&#39; trip</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/archives/">Archives</a><a class="page-link" href="/contact/">Contact</a><a class="page-link" href="/friends/">Friends</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
	<div class="wrapper">
		<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Running Jekyll myself</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-04-14T14:22:15+08:00" itemprop="datePublished">Apr 14, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>It is an annoying thing that I cannot add custom plugins
if <a href="https://pages.github.com/" target="_blank">GitHub pages</a>
runs <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> for me.</p>

<p>Thus, I need to build the site myself and let GitHub pages to
present my built site.</p>

<p>Note that GitHub pages serving personal users cannot
present the site deployed in <code class="language-plaintext highlighter-rouge">docs</code> dir of <code class="language-plaintext highlighter-rouge">master</code> branch
or in root of <code class="language-plaintext highlighter-rouge">gh-pages</code> branch, so I need to put my Jekyll source
in the <code class="language-plaintext highlighter-rouge">development</code> branch, and push the built site to the <code class="language-plaintext highlighter-rouge">master</code>
branch when I think it is ready to be published.</p>

<p>I have written a script to do it for me:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$1</span>

<span class="nb">echo</span> <span class="s2">"Committing..."</span>
git commit <span class="nt">-m</span> <span class="s2">"</span><span class="nv">$MESSAGE</span><span class="s2">"</span> <span class="nt">--author</span> <span class="s2">"</span><span class="nv">$AUTHOR</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"Backing up..."</span>
<span class="nb">mv </span>_site/.git git_backup

<span class="nb">echo</span> <span class="s2">"Building..."</span>
jekyll build <span class="nt">--quiet</span>

<span class="nb">echo</span> <span class="s2">"Restoring..."</span>
<span class="nb">mv </span>git_backup/.git _site
<span class="nb">cd </span>_site

<span class="nb">echo</span> <span class="s2">"Pushing..."</span>
git add <span class="nt">--</span> <span class="k">**</span>/<span class="k">*</span>
git commit <span class="nt">-m</span> <span class="s2">"</span><span class="nv">$MESSAGE</span><span class="s2">"</span> <span class="nt">--author</span> <span class="s2">"</span><span class="nv">$AUTHOR</span><span class="s2">"</span>
git push <span class="nt">--set-upstream</span> origin master
</code></pre></div></div>
<p>where <code class="language-plaintext highlighter-rouge">AUTHOR</code> is your name and email in the format <code class="language-plaintext highlighter-rouge">name &lt;email&gt;</code>.</p>

<p>Before that, I need to initialize the <code class="language-plaintext highlighter-rouge">_site</code> dir as a git repo:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>site_
git init
git remote add origin <span class="nv">$REMOTE_URL</span>
git add <span class="nt">-f</span> <span class="nt">--</span> <span class="k">**</span>/<span class="k">*</span>
git commit <span class="nt">-m</span> <span class="s2">"initial commit"</span>
git push <span class="nt">-f</span> <span class="nt">--set-upstream</span> origin master
</code></pre></div></div>
<p>where <code class="language-plaintext highlighter-rouge">REMOTE_URL</code> is the GitHub url of the repo of your site.</p>

  </div><a class="u-url" href="/programming/2020/04/14/run-jekyll-myself.html" hidden></a>
</article>
<div id="gitalk-container"></div></div>
</main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ulysses&#39; trip</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ulysses&#39; trip</li><li><a class="u-email" href="mailto:UlyssesZhan@gmail.com">UlyssesZhan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/YouqiuZhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">YouqiuZhan</span></a></li><li><a href="https://github.com/UlyssesZh"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">UlyssesZh</span></a></li><li><a href="https://instagram.com/ulysseszhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#instagram"></use></svg> <span class="username">ulysseszhan</span></a></li><li><a href="https://www.pinterest.com/ulysseszhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#pinterest"></use></svg> <span class="username">ulysseszhan</span></a></li><li><a href="https://www.twitter.com/UlyssesZhan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">UlyssesZhan</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Here we are at the awesome (awful) blog written by Ulysses Zhan!</p>
        <!-- Added begin -->
        <p align="right">&copy;&nbsp;2020 Ulysses Zhan</p>
        <!-- Added end -->
      </div>
    </div>

  </div>

</footer>
</body><script>
		const gitalk = new Gitalk({
			clientID: '49611570ab5cf827576b',
			clientSecret: '6dedc6014eb010990d395ae8aae632c7811dfeff',
			repo: 'UlyssesZh.github.io',
			owner: 'UlyssesZh',
			admin: ['UlyssesZh'],
			id: location.pathname,
			distractionFreeMode: false,
			language: document.documentElement.lang
		})
		gitalk.render('gitalk-container')
	</script></html>
